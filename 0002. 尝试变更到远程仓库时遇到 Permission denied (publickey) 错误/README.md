# [0002. å°è¯•å˜æ›´åˆ°è¿œç¨‹ä»“åº“æ—¶é‡åˆ° Permission denied (publickey) é”™è¯¯](https://github.com/Tdahuyou/git/tree/main/0002.%20%E5%B0%9D%E8%AF%95%E5%8F%98%E6%9B%B4%E5%88%B0%E8%BF%9C%E7%A8%8B%E4%BB%93%E5%BA%93%E6%97%B6%E9%81%87%E5%88%B0%20Permission%20denied%20(publickey)%20%E9%94%99%E8%AF%AF)

<!-- region:toc -->
- [1. ğŸ“’ é”™è¯¯ç¤ºä¾‹](#1--é”™è¯¯ç¤ºä¾‹)
- [2. ğŸ¤– å°è¯•å°†ä»£ç æ¨é€åˆ° GitHub æ—¶é‡åˆ° Permission denied (publickey). é”™è¯¯ï¼Œåº”è¯¥å¦‚ä½•è§£å†³ï¼Ÿ](#2--å°è¯•å°†ä»£ç æ¨é€åˆ°-github-æ—¶é‡åˆ°-permission-denied-(publickey)-é”™è¯¯åº”è¯¥å¦‚ä½•è§£å†³)
<!-- endregion:toc -->

## 1. ğŸ“’ é”™è¯¯ç¤ºä¾‹

```bash
$ git push -u origin main
git@github.com: Permission denied (publickey).
fatal: Could not read from remote repository.

Please make sure you have the correct access rights
and the repository exists.
```

## 2. ğŸ¤– å°è¯•å°†ä»£ç æ¨é€åˆ° GitHub æ—¶é‡åˆ° Permission denied (publickey). é”™è¯¯ï¼Œåº”è¯¥å¦‚ä½•è§£å†³ï¼Ÿ

å½“ä½ å°è¯•å°†ä»£ç æ¨é€åˆ° GitHub æ—¶é‡åˆ° `Permission denied (publickey).` é”™è¯¯ï¼Œ**è¿™é€šå¸¸æ„å‘³ç€ä½ çš„ SSH å¯†é’¥æ²¡æœ‰è¢«æ­£ç¡®é…ç½®æˆ–è€…æ²¡æœ‰è¢«æ·»åŠ åˆ° GitHub è´¦æˆ·ä¸­**ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›è§£å†³è¿™ä¸ªé—®é¢˜çš„æ­¥éª¤ï¼š

```bash
# æ£€æŸ¥æ˜¯å¦å·²ç»ç”Ÿæˆäº† SSH å¯†é’¥
# æ‰“å¼€ç»ˆç«¯å¹¶è¾“å…¥ä»¥ä¸‹å‘½ä»¤æ¥æŸ¥çœ‹ç°æœ‰çš„ SSH å¯†é’¥ã€‚
ls -al ~/.ssh
```

```bash
# å¦‚æœæ²¡æœ‰ SSH å¯†é’¥ï¼Œç”Ÿæˆä¸€ä¸ªæ–°çš„
# å¦‚æœä½ æ²¡æœ‰çœ‹åˆ°ä»»ä½• `.pub` æ–‡ä»¶ï¼ˆä¾‹å¦‚ `id_rsa.pub` æˆ– `id_ed25519.pub`ï¼‰ï¼Œä½ éœ€è¦ç”Ÿæˆä¸€ä¸ªæ–°çš„ SSH å¯†é’¥å¯¹ã€‚
ssh-keygen -t rsa -b 4096 -C "your_email@example.com"
# æŒ‰ç…§æç¤ºæ“ä½œï¼Œå¯ä»¥é€‰æ‹©ä¿å­˜ä½ç½®å’Œè®¾ç½®å¯†ç ã€‚
```

```bash
# å°† SSH å…¬é’¥æ·»åŠ åˆ° GitHub
# å°†æ–°ç”Ÿæˆçš„å…¬é’¥å†…å®¹å¤åˆ¶åˆ°å‰ªè´´æ¿ã€‚
cat ~/.ssh/id_rsa.pub
# æˆ–è€…å¦‚æœä½ ä½¿ç”¨çš„æ˜¯ ed25519
cat ~/.ssh/id_ed25519.pub
# ç™»å½•åˆ°ä½ çš„ GitHub è´¦æˆ·ï¼Œè¿›å…¥ Settings -> SSH and GPG keys é¡µé¢ï¼Œç‚¹å‡» New SSH key æŒ‰é’®ï¼Œç²˜è´´ä½ çš„å…¬é’¥ï¼Œå¹¶ä¿å­˜ã€‚
```

```bash
# æµ‹è¯• SSH è¿æ¥
# åœ¨ç»ˆç«¯ä¸­è¿è¡Œä»¥ä¸‹å‘½ä»¤æ¥æµ‹è¯•ä¸ GitHub çš„è¿æ¥ã€‚
ssh -T git@github.com
# å¦‚æœä¸€åˆ‡æ­£å¸¸ï¼Œä½ ä¼šçœ‹åˆ°ä¸€æ¡æ¬¢è¿ä¿¡æ¯ï¼Œè¯´æ˜ä½ å·²ç»æˆåŠŸé€šè¿‡ SSH è®¤è¯ã€‚
```


```bash
# ç¡®ä¿è¿œç¨‹ URL æ­£ç¡®
# ç¡®è®¤ä½ çš„ä»“åº“è¿œç¨‹ URL æ˜¯æ­£ç¡®çš„ã€‚ä½ å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æŸ¥çœ‹å½“å‰çš„è¿œç¨‹ URLã€‚
git remote -v
# å¦‚æœ URL ä¸æ­£ç¡®ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ä¿®æ”¹å®ƒã€‚
git remote set-url origin git@github.com:Tdahuyou/algorithm_.git
```

```bash
# å†æ¬¡å°è¯•æ¨é€
# å½“æ‰€æœ‰è®¾ç½®éƒ½å®Œæˆåï¼Œå†æ¬¡å°è¯•æ¨é€ä»£ç ã€‚
git push -u origin main
```

```bash
# å¦‚æœä¸Šè¿°æ­¥éª¤ä¹‹åé—®é¢˜ä»ç„¶å­˜åœ¨ï¼Œè¯·ç¡®ä¿ä½ çš„ SSH ä»£ç†æ­£åœ¨è¿è¡Œå¹¶ä¸”ä½ çš„å¯†é’¥å·²ç»è¢«æ·»åŠ åˆ° SSH ä»£ç†ä¸­ã€‚ä½ å¯ä»¥é€šè¿‡ä»¥ä¸‹å‘½ä»¤æ¥å¯åŠ¨ SSH ä»£ç†å¹¶æ·»åŠ å¯†é’¥ã€‚
eval "$(ssh-agent -s)"
ssh-add ~/.ssh/id_rsa
# æˆ–è€…
ssh-add ~/.ssh/id_ed25519
# å¦‚æœè¿˜æ˜¯æ— æ³•è§£å†³é—®é¢˜ï¼Œå¯èƒ½éœ€è¦æ£€æŸ¥æ˜¯å¦æœ‰å…¶ä»–å®‰å…¨è½¯ä»¶æˆ–ç½‘ç»œè®¾ç½®é˜»æ­¢äº† SSH è¿æ¥ã€‚
```



